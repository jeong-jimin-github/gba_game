# Copilot instructions for this GBA project

? ???? Game Boy Advance? ???? C ???????. ??? AI ?? ????? ??? ????? ??? ? ??? ??? ?? ?????.

1) ? ?? ? ??? ??
- **???/??**: ARM7TDMI (GBA). Makefile? `-mcpu=arm7tdmi` ???? ?????? ?? (`Makefile`).
- **???**: `main.c` ? ? ?? ??(Init Å® Update Å® Draw). ?? `scene.h`/? ? ??(`menu.c`, `setting.c`, `credit.c`)?? ??.
- **???? API**: `lib/gba.h` ? ????, DMA, ??, ??? ? ??? ??? ??.
- **??? ?????**: `res/Makefile`? ???/???? `.s` (???? ?? ???)? ??(`grit`, `bin2s`)?? ?? ??? ????. ??? ??(?: `res/mplus_j10r.h`)? ?? ???? ??.
- **?? ???/????**: GBFS ?? (`lib/gbfs.c`/`lib/gbfs.h`) ? ?? ? `.gbfs` ????? ROM ?? ?? ??(?: `build.bat`? `test.gbfs` + `test.gba`).

2) ?? ??/?? ????
- **Windows (?? ?? ??)**: `build.bat` ? devkitPro/devkitARM ??? `PATH`? ???? `make`? ??, ??? `test.gba`? ?? ?? `test.gba`+`test.gbfs`? ?? `test2.gba` ??.
  - ? (cmd.exe): `build.bat`
- **Unix / MSYS**: `make` ?? `./build.sh` (??? `make` ??).
- **Makefile ?**: ??? ???? `PREFIX=arm-none-eabi-` (Makefile). ?? ???? ?? ???? `PREFIX` ????? `PATH`? `devkitARM/bin`? ??.
- **?? ?? ??(??? ??)**: `arm-none-eabi-gcc` toolchain (devkitPro/devkitARM), `grit`, `bin2s`, `gbafix`, `padbin`.

3) ???? ?? / ?? ?? (??? ??)
- **? ??**: ? ?? `X_Init`, `X_Update`, `X_Draw` ??? ??. `main.c`?? `WaitForVSync()` ??? Update Å® Draw ?.
  - ?: `Menu_Init`, `Menu_Update`, `Menu_Draw`? `menu.c`? ??.
- **??? ??**: ???? `res/*.s`?? ??? ???? `extern`? ??(?: `mplus_j10rBitmap`, `mplus_jfnt_txt`). ??? ??? `res/*.grit`/`.txt` ???? ???.
- **GBFS ??? ??**: `GbfsInit()`? ?? ? ROM ??? GBFS ?? ??. ???? `GbfsGetPointer("name")`? ??? ???? ??. `.gbfs`? ??? `SystemError` ??? ?? ???.

4) ??/?? ? ????
- `Makefile`? `CFLAGS`, `LDFLAGS`, `PREFIX`? ?? ??(?? ??? ??/??)? ?? ??? ?. Windows ???? `build.bat`? `PATH` ??? ??.
- ??? ?? ? `res/`? ?? ??? ?? `make -C res`? ???? ?? `.s` ? `.h`? ???? ?? ??? ????.
- GBA ??? ?? ??(?: IWRAM/EWRAM, VRAM)? `IWRAM_CODE` ?????? ??? ????? ??/?? ?? ?? ? ld ????? ?? ??.

5) ?? ?? (??/?? ??)
- ??(Windows cmd.exe):
  - `build.bat` (devkitPro? `C:\devkitPro`? ???? ??? ??)
- ??(Unix/MSYS):
  - `./build.sh` ?? `make`
- ??? ??? Makefile ?? ?: `PREFIX=/usr/bin/arm-none-eabi-`

6) ?? ??
- ??: `Makefile`, `build.bat`, `build.sh`, `res/Makefile`
- ??? ??/??: `main.c`, `scene.h`
- ???/??: `res/mplus_j10r.*`, `res/mplus_jfnt.*`, `res/*.grit`
- ???? API: `lib/gba.h`, `lib/sys.arm.c`
- ???? ??: `lib/gbfs.c`, `lib/gbfs.h`

??? ?? ???? ? ??? ?? ??(?: ??? ??, ??? ??, ?? ?? ??)? ??? ?????. ???? ???????.
